{"ast":null,"code":"var _jsxFileName = \"D:\\\\TFG\\\\PETCONNECT-FRONTEND\\\\src\\\\components\\\\StarRater.jsx\",\n  _s = $RefreshSig$();\n// src/components/StarRater.jsx\nimport React, { useState, useEffect } from 'react';\nimport { FaStar } from 'react-icons/fa';\nimport api from '../api/axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StarRater({\n  activityId,\n  initialValue = 0,\n  readOnly = false,\n  onRate\n}) {\n  _s();\n  const [rating, setRating] = useState(initialValue);\n  const [hover, setHover] = useState(0);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setRating(initialValue);\n  }, [initialValue]);\n  const handleRate = async newRating => {\n    if (readOnly) return;\n    setLoading(true);\n    setRating(newRating);\n    try {\n      await api.post(`/api/activities/${activityId}/rate`, {\n        rating: newRating\n      });\n      if (onRate) onRate(newRating);\n    } catch (error) {\n      console.error(\"Error al calificar:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"star-rater\",\n    children: [[...Array(5)].map((_, index) => {\n      const ratingValue = index + 1;\n      return /*#__PURE__*/_jsxDEV(FaStar, {\n        size: 24,\n        style: {\n          cursor: readOnly ? 'default' : 'pointer',\n          marginRight: '5px'\n        },\n        color: ratingValue <= (hover || rating) ? \"#ffc107\" : \"#e4e5e9\",\n        onMouseEnter: () => !readOnly && setHover(ratingValue),\n        onMouseLeave: () => setHover(0),\n        onClick: () => !readOnly && handleRate(ratingValue)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this);\n    }), loading && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-muted ms-2\",\n      children: \"Guardando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(StarRater, \"fvqVO+MDftwVQiQg236x0fLGEGQ=\");\n_c = StarRater;\nvar _c;\n$RefreshReg$(_c, \"StarRater\");","map":{"version":3,"names":["React","useState","useEffect","FaStar","api","jsxDEV","_jsxDEV","StarRater","activityId","initialValue","readOnly","onRate","_s","rating","setRating","hover","setHover","loading","setLoading","handleRate","newRating","post","error","console","className","children","Array","map","_","index","ratingValue","size","style","cursor","marginRight","color","onMouseEnter","onMouseLeave","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/TFG/PETCONNECT-FRONTEND/src/components/StarRater.jsx"],"sourcesContent":["// src/components/StarRater.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { FaStar } from 'react-icons/fa';\r\nimport api from '../api/axios';\r\n\r\nexport default function StarRater({ activityId, initialValue = 0, readOnly = false, onRate }) {\r\n  const [rating, setRating] = useState(initialValue);\r\n  const [hover, setHover] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setRating(initialValue);\r\n  }, [initialValue]);\r\n\r\n  const handleRate = async (newRating) => {\r\n    if (readOnly) return;\r\n    setLoading(true);\r\n    setRating(newRating);\r\n\r\n    try {\r\n      await api.post(`/api/activities/${activityId}/rate`, { rating: newRating });\r\n      if (onRate) onRate(newRating);\r\n    } catch (error) {\r\n      console.error(\"Error al calificar:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"star-rater\">\r\n      {[...Array(5)].map((_, index) => {\r\n        const ratingValue = index + 1;\r\n        return (\r\n          <FaStar\r\n            key={index}\r\n            size={24}\r\n            style={{ cursor: readOnly ? 'default' : 'pointer', marginRight: '5px' }}\r\n            color={ratingValue <= (hover || rating) ? \"#ffc107\" : \"#e4e5e9\"}\r\n            onMouseEnter={() => !readOnly && setHover(ratingValue)}\r\n            onMouseLeave={() => setHover(0)}\r\n            onClick={() => !readOnly && handleRate(ratingValue)}\r\n          />\r\n        );\r\n      })}\r\n\r\n      {loading && <span className=\"text-muted ms-2\">Guardando...</span>}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,QAAQ,gBAAgB;AACvC,OAAOC,GAAG,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,eAAe,SAASC,SAASA,CAAC;EAAEC,UAAU;EAAEC,YAAY,GAAG,CAAC;EAAEC,QAAQ,GAAG,KAAK;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EAC5F,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAACQ,YAAY,CAAC;EAClD,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACdY,SAAS,CAACL,YAAY,CAAC;EACzB,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElB,MAAMU,UAAU,GAAG,MAAOC,SAAS,IAAK;IACtC,IAAIV,QAAQ,EAAE;IACdQ,UAAU,CAAC,IAAI,CAAC;IAChBJ,SAAS,CAACM,SAAS,CAAC;IAEpB,IAAI;MACF,MAAMhB,GAAG,CAACiB,IAAI,CAAC,mBAAmBb,UAAU,OAAO,EAAE;QAAEK,MAAM,EAAEO;MAAU,CAAC,CAAC;MAC3E,IAAIT,MAAM,EAAEA,MAAM,CAACS,SAAS,CAAC;IAC/B,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC7C,CAAC,SAAS;MACRJ,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEZ,OAAA;IAAKkB,SAAS,EAAC,YAAY;IAAAC,QAAA,GACxB,CAAC,GAAGC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAK;MAC/B,MAAMC,WAAW,GAAGD,KAAK,GAAG,CAAC;MAC7B,oBACEvB,OAAA,CAACH,MAAM;QAEL4B,IAAI,EAAE,EAAG;QACTC,KAAK,EAAE;UAAEC,MAAM,EAAEvB,QAAQ,GAAG,SAAS,GAAG,SAAS;UAAEwB,WAAW,EAAE;QAAM,CAAE;QACxEC,KAAK,EAAEL,WAAW,KAAKf,KAAK,IAAIF,MAAM,CAAC,GAAG,SAAS,GAAG,SAAU;QAChEuB,YAAY,EAAEA,CAAA,KAAM,CAAC1B,QAAQ,IAAIM,QAAQ,CAACc,WAAW,CAAE;QACvDO,YAAY,EAAEA,CAAA,KAAMrB,QAAQ,CAAC,CAAC,CAAE;QAChCsB,OAAO,EAAEA,CAAA,KAAM,CAAC5B,QAAQ,IAAIS,UAAU,CAACW,WAAW;MAAE,GAN/CD,KAAK;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAOX,CAAC;IAEN,CAAC,CAAC,EAEDzB,OAAO,iBAAIX,OAAA;MAAMkB,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAC;IAAY;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9D,CAAC;AAEV;AAAC9B,EAAA,CA5CuBL,SAAS;AAAAoC,EAAA,GAATpC,SAAS;AAAA,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}