{"ast":null,"code":"var _jsxFileName = \"D:\\\\TFG\\\\PETCONNECT-FRONTEND\\\\src\\\\components\\\\ActivityCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ActivityCard({\n  activity,\n  onJoin,\n  addToast\n}) {\n  _s();\n  var _activity$user;\n  const [comment, setComment] = useState('');\n  const handleComment = async () => {\n    if (!comment.trim()) return;\n    try {\n      await addToast; // placeholder si ya tienes un método\n      // envía comentario aquí…\n      // await api.post('/api/comments', { activity_id: activity.id, body: comment });\n      setComment('');\n      addToast('Comentario enviado', 'success');\n    } catch {\n      addToast('Error al enviar comentario', 'error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"card-title\",\n        children: activity.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-muted small mb-2\",\n        children: [\"Propuesta por: \", ((_activity$user = activity.user) === null || _activity$user === void 0 ? void 0 : _activity$user.name) || '–']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Inicio:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), ' ', new Date(activity.starts_at).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), activity.ends_at && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Fin:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), ' ', new Date(activity.ends_at).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), activity.location && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Lugar:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), \" \", activity.location]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'btn ' + (activity.is_registered ? 'btn-secondary disabled' : 'btn-primary'),\n        onClick: onJoin,\n        disabled: activity.is_registered,\n        children: activity.is_registered ? 'Ya inscrito' : 'Apuntarse'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control mb-2\",\n          rows: \"2\",\n          placeholder: \"Escribe un comentario\\u2026\",\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary btn-sm\",\n          onClick: handleComment,\n          children: \"Comentar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n_s(ActivityCard, \"vhAvzpEN661Y5K0yhbG0Td/NMg4=\");\n_c = ActivityCard;\nvar _c;\n$RefreshReg$(_c, \"ActivityCard\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ActivityCard","activity","onJoin","addToast","_s","_activity$user","comment","setComment","handleComment","trim","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","user","name","Date","starts_at","toLocaleString","ends_at","location","is_registered","onClick","disabled","rows","placeholder","value","onChange","e","target","_c","$RefreshReg$"],"sources":["D:/TFG/PETCONNECT-FRONTEND/src/components/ActivityCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport default function ActivityCard({\r\n  activity,\r\n  onJoin,\r\n  addToast\r\n}) {\r\n  const [comment, setComment] = useState('');\r\n\r\n  const handleComment = async () => {\r\n    if (!comment.trim()) return;\r\n    try {\r\n      await addToast; // placeholder si ya tienes un método\r\n      // envía comentario aquí…\r\n      // await api.post('/api/comments', { activity_id: activity.id, body: comment });\r\n      setComment('');\r\n      addToast('Comentario enviado', 'success');\r\n    } catch {\r\n      addToast('Error al enviar comentario', 'error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        {/* Título y creador */}\r\n        <h5 className=\"card-title\">\r\n          {activity.title}\r\n        </h5>\r\n        <p className=\"text-muted small mb-2\">\r\n          Propuesta por: {activity.user?.name || '–'}\r\n        </p>\r\n\r\n        {/* Fechas y lugar */}\r\n        <p className=\"mb-1\">\r\n          <strong>Inicio:</strong>{' '}\r\n          {new Date(activity.starts_at).toLocaleString()}\r\n        </p>\r\n        {activity.ends_at && (\r\n          <p className=\"mb-2\">\r\n            <strong>Fin:</strong>{' '}\r\n            {new Date(activity.ends_at).toLocaleString()}\r\n          </p>\r\n        )}\r\n        {activity.location && (\r\n          <p className=\"mb-3\">\r\n            <strong>Lugar:</strong> {activity.location}\r\n          </p>\r\n        )}\r\n\r\n        {/* Botón apuntarse / inscrito */}\r\n        <button\r\n          className={\r\n            'btn ' +\r\n            (activity.is_registered\r\n              ? 'btn-secondary disabled'\r\n              : 'btn-primary')\r\n          }\r\n          onClick={onJoin}\r\n          disabled={activity.is_registered}\r\n        >\r\n          {activity.is_registered\r\n            ? 'Ya inscrito'\r\n            : 'Apuntarse'}\r\n        </button>\r\n\r\n        {/* Comentarios integrados (opcional) */}\r\n        <div className=\"mt-3\">\r\n          <textarea\r\n            className=\"form-control mb-2\"\r\n            rows=\"2\"\r\n            placeholder=\"Escribe un comentario…\"\r\n            value={comment}\r\n            onChange={e => setComment(e.target.value)}\r\n          />\r\n          <button\r\n            className=\"btn btn-outline-primary btn-sm\"\r\n            onClick={handleComment}\r\n          >\r\n            Comentar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}