{"ast":null,"code":"// PETCONNECT-FRONTEND/src/pages/LostPets.jsx\n// …imports arriba…\nexport default function LostPets() {\n  // … tu estado y useEffect de carga …\n\n  // 2) Reportar nueva mascota perdida\n  const handleReport = async data => {\n    try {\n      // Creamos FormData en lugar de JSON\n      const fd = new FormData();\n      fd.append('pet_name', data.pet_name);\n      fd.append('description', data.description);\n      fd.append('last_seen_location', data.last_seen_location);\n      if (data.photo) {\n        fd.append('photo', data.photo);\n      }\n      const res = await api.post('/api/lost-pets', fd, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setLostList([{\n        ...res.data,\n        sightings: []\n      }, ...lostList]);\n    } catch (err) {\n      var _err$response, _err$response2;\n      console.error('Error al reportar mascota perdida:', (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n      // Si hay errores de validación, los mostramos\n      if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 422 && err.response.data.errors) {\n        const messages = Object.values(err.response.data.errors).flat().join('\\n');\n        alert('Errores de validación:\\n' + messages);\n      } else {\n        var _err$response3, _err$response3$data;\n        alert('Error al reportar la mascota perdida:\\n' + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message));\n      }\n    }\n  };\n\n  // … resto del componente …\n}\n_c = LostPets;\nvar _c;\n$RefreshReg$(_c, \"LostPets\");","map":{"version":3,"names":["LostPets","handleReport","data","fd","FormData","append","pet_name","description","last_seen_location","photo","res","api","post","headers","setLostList","sightings","lostList","err","_err$response","_err$response2","console","error","response","status","errors","messages","Object","values","flat","join","alert","_err$response3","_err$response3$data","message","_c","$RefreshReg$"],"sources":["D:/TFG/PETCONNECT-FRONTEND/src/pages/LostPets.jsx"],"sourcesContent":["// PETCONNECT-FRONTEND/src/pages/LostPets.jsx\r\n// …imports arriba…\r\nexport default function LostPets() {\r\n  // … tu estado y useEffect de carga …\r\n\r\n  // 2) Reportar nueva mascota perdida\r\n  const handleReport = async data => {\r\n    try {\r\n      // Creamos FormData en lugar de JSON\r\n      const fd = new FormData();\r\n      fd.append('pet_name', data.pet_name);\r\n      fd.append('description', data.description);\r\n      fd.append('last_seen_location', data.last_seen_location);\r\n      if (data.photo) {\r\n        fd.append('photo', data.photo);\r\n      }\r\n\r\n      const res = await api.post('/api/lost-pets', fd, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      setLostList([{ ...res.data, sightings: [] }, ...lostList]);\r\n    } catch (err) {\r\n      console.error('Error al reportar mascota perdida:', err.response?.data);\r\n      // Si hay errores de validación, los mostramos\r\n      if (err.response?.status === 422 && err.response.data.errors) {\r\n        const messages = Object.values(err.response.data.errors)\r\n          .flat()\r\n          .join('\\n');\r\n        alert('Errores de validación:\\n' + messages);\r\n      } else {\r\n        alert('Error al reportar la mascota perdida:\\n' + (err.response?.data?.message || err.message));\r\n      }\r\n    }\r\n  };\r\n\r\n  // … resto del componente …\r\n}\r\n"],"mappings":"AAAA;AACA;AACA,eAAe,SAASA,QAAQA,CAAA,EAAG;EACjC;;EAEA;EACA,MAAMC,YAAY,GAAG,MAAMC,IAAI,IAAI;IACjC,IAAI;MACF;MACA,MAAMC,EAAE,GAAG,IAAIC,QAAQ,CAAC,CAAC;MACzBD,EAAE,CAACE,MAAM,CAAC,UAAU,EAAEH,IAAI,CAACI,QAAQ,CAAC;MACpCH,EAAE,CAACE,MAAM,CAAC,aAAa,EAAEH,IAAI,CAACK,WAAW,CAAC;MAC1CJ,EAAE,CAACE,MAAM,CAAC,oBAAoB,EAAEH,IAAI,CAACM,kBAAkB,CAAC;MACxD,IAAIN,IAAI,CAACO,KAAK,EAAE;QACdN,EAAE,CAACE,MAAM,CAAC,OAAO,EAAEH,IAAI,CAACO,KAAK,CAAC;MAChC;MAEA,MAAMC,GAAG,GAAG,MAAMC,GAAG,CAACC,IAAI,CAAC,gBAAgB,EAAET,EAAE,EAAE;QAC/CU,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC;MACFC,WAAW,CAAC,CAAC;QAAE,GAAGJ,GAAG,CAACR,IAAI;QAAEa,SAAS,EAAE;MAAG,CAAC,EAAE,GAAGC,QAAQ,CAAC,CAAC;IAC5D,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,cAAA;MACZC,OAAO,CAACC,KAAK,CAAC,oCAAoC,GAAAH,aAAA,GAAED,GAAG,CAACK,QAAQ,cAAAJ,aAAA,uBAAZA,aAAA,CAAchB,IAAI,CAAC;MACvE;MACA,IAAI,EAAAiB,cAAA,GAAAF,GAAG,CAACK,QAAQ,cAAAH,cAAA,uBAAZA,cAAA,CAAcI,MAAM,MAAK,GAAG,IAAIN,GAAG,CAACK,QAAQ,CAACpB,IAAI,CAACsB,MAAM,EAAE;QAC5D,MAAMC,QAAQ,GAAGC,MAAM,CAACC,MAAM,CAACV,GAAG,CAACK,QAAQ,CAACpB,IAAI,CAACsB,MAAM,CAAC,CACrDI,IAAI,CAAC,CAAC,CACNC,IAAI,CAAC,IAAI,CAAC;QACbC,KAAK,CAAC,0BAA0B,GAAGL,QAAQ,CAAC;MAC9C,CAAC,MAAM;QAAA,IAAAM,cAAA,EAAAC,mBAAA;QACLF,KAAK,CAAC,yCAAyC,IAAI,EAAAC,cAAA,GAAAd,GAAG,CAACK,QAAQ,cAAAS,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAc7B,IAAI,cAAA8B,mBAAA,uBAAlBA,mBAAA,CAAoBC,OAAO,KAAIhB,GAAG,CAACgB,OAAO,CAAC,CAAC;MACjG;IACF;EACF,CAAC;;EAED;AACF;AAACC,EAAA,GAlCuBlC,QAAQ;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}